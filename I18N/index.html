<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="UTF-8" />
    <title>WindRunnerMax</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta name="baidu-site-verification" content="codeva-VBBBn6hyor" />
    <link
      rel="stylesheet"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      href="https://unpkg.com/docsify-dist@4.11.7/vue.css"
    />
    <link
      rel="stylesheet"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      href="https://unpkg.com/docsify-dist@4.11.6/gitalk.css"
    />
    <style type="text/css">
      aside.sidebar {
        overscroll-behavior: contain;
        scrollbar-color: rgb(201, 205, 212) transparent;
        scrollbar-width: thin;
      }
      summary {
        cursor: pointer;
      }
    </style>
    <!-- <meta name="referrer" content="no-referrer"> -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="//www.googletagmanager.com/gtag/js?id=G-57PHBXT1C5"
    ></script>
    <script>
      /** 兼容历史的 HASH 链接地址 */
      window.$p = "p";
      const search = new URLSearchParams(location.search);
      if (location.hash && !search.has(window.$p)) {
        const hashValue = location.hash.slice(1);
        const url = new URL(window.location.href);
        url.searchParams.set(window.$p, hashValue === "/" ? "" : hashValue);
        url.hash = "";
        location.replace(url.toString());
      }
      const path = location.hash || search.get(window.$p) || "";
      const title = path.split("/").pop();
      title && (document.title = title);
    </script>
    <script>
      /** 处理 SEO 的权威链接地址 */
      window.setCanonicalUrl = () => {
        const href = location.href;
        const url = new URL(location.href);
        url.searchParams.delete("id");
        const canonicalLink = document.querySelector('link[rel="canonical"]');
        canonicalLink && canonicalLink.remove();
        const canonical = Object.assign(document.createElement("link"), {
          rel: "canonical",
          href: decodeURIComponent(url.toString()),
        });
        document.head && document.head.appendChild(canonical);
      };
      window.setCanonicalUrl();
    </script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-57PHBXT1C5");
    </script>
  </head>
  <body>
    <div id="app">Please wait...</div>
    <script>
      // https://docsify.js.org/
      window.$docsify = {
        name: "WindRunnerMax",
        repo: "https://github.com/WindRunnerMax",
        loadSidebar: true,
        auto2top: true,
        themeColor: "#4C98F7",
        // subMaxLevel: 3,
        search: {
          paths: "auto",
          placeholder: "Type to search",
          noData: "No Results",
          depth: 1,
        },
        // basePath:"https://cdn.jsdelivr.net/gh/WindRunnerMax/EveryDay@gh-pages",
        alias: {
          "/.*/_sidebar.md": "/I18N/_sidebar.md",
        },
        plugins: [],
        requestHeaders: {
          "cache-control": "public max-age=36000",
        },
        count: {
          position: "bottom",
        },
        routerMode: "history",
      };
    </script>
    <script>
      const baseUrl = window.$docsify.basePath || "";
      const XHROpen = XMLHttpRequest.prototype.open;
      XMLHttpRequest.prototype.open = function () {
        const args = Array.prototype.slice.call(arguments);
        const url = args[1];
        if (url && url.startsWith("/I18N/README.md?p=")) {
          const search = new URLSearchParams(location.search);
          const path = search.get(window.$p) || "";
          path && (args[1] = baseUrl + "/I18N" + path + ".md");
        }
        if (url && url.startsWith("/I18N/_sidebar.md")) {
          args[1] = baseUrl + "/I18N/_sidebar.md";
        }
        this.onreadystatechange = function () {
          const xhr = this;
          if (xhr.readyState === 4 && xhr.status === 404) {
            Object.defineProperty(xhr, "status", { value: 200 });
            const res = "# 404 Not Found";
            Object.defineProperty(xhr, "response", { value: res });
          }
        };
        XHROpen.apply(this, args);
      };
    </script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.6/docsify.min.js"
    ></script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.6/search.min.js"
    ></script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.7/catalog.js"
    ></script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.6/sidebar.js"
    ></script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.6/docsify-copy-code@2.1.1.js"
    ></script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.6/docsify-pagination.min.js"
    ></script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.6/countable.js"
    ></script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.6/gitalk.min.js"
    ></script>
    <script
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      src="https://unpkg.com/docsify-dist@4.11.6/blueimp-md5@2.19.0.js"
    ></script>
    <script>
      const BASE_Q = "/I18N/?";
      const HistoryPlugin = (hook, vm) => {
        hook.doneEach(() => {
          const search = new URLSearchParams(location.search);
          const $p = search.get(window.$p) || "";
          // 处理侧边栏导航链接
          const links = document.querySelectorAll(".sidebar-nav li > a");
          Array.from(links).forEach((a) => {
            const path = a.getAttribute("href");
            a.href = BASE_Q + window.$p + "=" + path;
            a.onclick = (e) => (vm.route.path = path);
            if ($p === path && a.parentElement.tagName === "LI") {
              a.parentElement.classList.add("active");
            }
          });
          // 处理文章内的 HASH 链接
          const hashLinks = document.querySelectorAll("article a[data-id]");
          Array.from(hashLinks).forEach((a) => {
            a.onclick = (e) => (vm.route.path = $p);
            search.set("id", a.getAttribute("data-id"));
            a.href = BASE_Q + decodeURIComponent(search.toString());
          });
          // 处理页面内的超链接地址
          const pageLinks = document.querySelectorAll("article a[href]");
          Array.from(pageLinks).forEach((a) => {
            const href = a.getAttribute("href");
            if ($p && href && href.startsWith("/./")) {
              const fileName = href.replace("/./", "");
              const fragment = $p.split("/");
              fragment.pop() && fragment.push(fileName);
              const path = fragment.join("/");
              a.href = BASE_Q + window.$p + "=" + decodeURIComponent(path);
              a.onclick = (e) => (vm.route.path = path);
            }
            if ($p && href && href.startsWith("/../")) {
              const newPath = href.replace("/../", "/");
              a.href = BASE_Q + window.$p + "=" + decodeURIComponent(newPath);
              a.onclick = (e) => (vm.route.path = newPath);
            }
          });
          // 设置页面的标题
          let title = $p.split("/").slice(-1).pop();
          title = title || window.$docsify.name;
          window.setCanonicalUrl();
          // 兼容命名评论 HASH
          title = title === "WindRunnerMax" ? "WindrunnerMax" : title;
          document.title = title;
          // 处理图片的地址
          const images = document.querySelectorAll("#main img");
          Array.from(images).map((img) => {
            const src = img.getAttribute("src") || "";
            const fragment = src.split("/");
            img.src = "/" + fragment.slice(-3).join("/");
          });
        });
      };
      window.$docsify.plugins = [...$docsify.plugins, HistoryPlugin];
    </script>
    <script>
      const GitalkPlugin = (hook, vm) => {
        const dom = Docsify.dom;
        hook.mounted(() => {
          const div = dom.create("div");
          div.id = "gitalk-container";
          const main = dom.getNode("#main");
          const width = main.clientWidth;
          div.style = [
            "width: " + width + "px",
            "margin: 0 auto 20px",
            "padding-bottom: 50px",
          ].join(";");
          dom.appendTo(dom.find(".content"), div);
        });
        hook.doneEach(() => {
          const title = document.title;
          for (
            let n = document.getElementById("gitalk-container");
            n.hasChildNodes();

          ) {
            n.removeChild(n.firstChild);
          }
          new Gitalk({
            clientID: "09c0f64ed0786ea33509",
            clientSecret: "849d94f67bb8e90f65e0990585a78bc710013963",
            repo: "GitTalks",
            owner: "touchczy",
            title: title,
            body: `[${title}](${location.href})`,
            admin: ["touchczy", "WindRunnerMax"],
            id: md5("blog" + title),
            distractionFreeMode: false,
          }).render("gitalk-container");
        });
      };
      window.$docsify.plugins = [...$docsify.plugins, GitalkPlugin];
    </script>
  </body>
</html>
